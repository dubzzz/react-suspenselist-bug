(this["webpackJsonpreact-suspenselist-bug"]=this["webpackJsonpreact-suspenselist-bug"]||[]).push([[0],{4:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),r=n(3),c=n.n(r),o=n(1),i=p("A"),u=p("B"),s=p("C"),m=p("A"),d=p("B"),E=p("C");function v(e){var t=e.req;return a.a.createElement("div",null,a.a.createElement("div",null,"Request: ",t.map((function(e){return e[0]}))),a.a.createElement("ul",null,a.a.createElement(a.a.SuspenseList,{revealOrder:"forwards"},t.map((function(e){var t=Object(o.a)(e,2),n=t[0],l=t[1];return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(C,{text:"Loading ".concat(n)})},a.a.createElement(l,null))})))))}function b(){var e=a.a.useState(1),t=Object(o.a)(e,2),n=t[0],l=t[1],r=a.a.useState(0),c=Object(o.a)(r,2)[1],m=function(e){return function(){e(),c((function(e){return e+1}))}};return a.a.createElement("div",null,a.a.createElement("div",null,"Scenario is:",a.a.createElement("ul",null,a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"Resolve A")),a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"Resolve C")),a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"See second page"))),a.a.createElement("p",null,"Got: A / Loading B / Loading C"),a.a.createElement("p",null,"C has been marked as loading while it has already been rendered as a loaded once.")),a.a.createElement("div",null,a.a.createElement("button",{disabled:i.isResolved(),onClick:m(i.resolve)},"Resolve A"),a.a.createElement("button",{disabled:u.isResolved(),onClick:m(u.resolve)},"Resolve B"),a.a.createElement("button",{disabled:s.isResolved(),onClick:m(s.resolve)},"Resolve C"),a.a.createElement("button",{disabled:2===n,onClick:function(){return l(2)}},"See second page")),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement(v,{req:1===n?[["C",s]]:[["A",i],["B",u],["C",s]]})))}function f(){var e=a.a.useState(1),t=Object(o.a)(e,2),n=t[0],l=t[1],r=a.a.useState(0),c=Object(o.a)(r,2)[1],i=function(e){return function(){e(),c((function(e){return e+1}))}};return a.a.createElement("div",null,a.a.createElement("div",null,"Scenario is:",a.a.createElement("ul",null,a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"Resolve B")),a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"Resolve C")),a.a.createElement("li",null,"Click on ",a.a.createElement("em",null,"See second page"))),a.a.createElement("p",null,"Got: Loading A / C"),a.a.createElement("p",null,"Not consistent with the other scenario.")),a.a.createElement("div",null,a.a.createElement("button",{disabled:m.isResolved(),onClick:i(m.resolve)},"Resolve A"),a.a.createElement("button",{disabled:d.isResolved(),onClick:i(d.resolve)},"Resolve B"),a.a.createElement("button",{disabled:E.isResolved(),onClick:i(E.resolve)},"Resolve C"),a.a.createElement("button",{disabled:2===n,onClick:function(){return l(2)}},"See second page")),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement(v,{req:1===n?[["B",d],["C",E]]:[["A",m],["C",E]]})))}var h=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(b,null)),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(f,null))),a.a.createElement("div",{style:{textAlign:"center",margin:"2em"}},"Source is available at"," ",a.a.createElement("a",{href:"https://github.com/dubzzz/react-suspenselist-bug/"},"https://github.com/dubzzz/react-suspenselist-bug/")),a.a.createElement("div",{style:{textAlign:"center",margin:"2em"}},"Inconsistency discovered thanks to",a.a.createElement("a",{href:"https://github.com/dubzzz/fast-check/"},a.a.createElement("b",null,"fast-check"))))};function C(e){return a.a.createElement("li",null,e.text)}function p(e){var t=!1,n=function(){if(!t)throw l;return a.a.createElement(C,{text:e})},l=new Promise((function(e){n.resolve=function(){return t=!0,e()},n.isResolved=function(){return t}}));return n}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.createRoot(document.getElementById("root")).render(a.a.createElement(h,null)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[4,1,2]]]);
//# sourceMappingURL=main.aeb0c1ef.chunk.js.map